# EV91 Platform - Infrastructure Environment Configuration
# This file contains environment variables for Docker Compose

# ==============================================
# DATABASE CONFIGURATION
# ==============================================
POSTGRES_USER=ev91user
POSTGRES_PASSWORD=EV91SecurePass2025!
POSTGRES_DB=ev91platform
POSTGRES_PORT=5432

# Additional databases (created automatically)
POSTGRES_MULTIPLE_DATABASES=spare_parts,auth,teams,vehicles,clients,riders

# ==============================================
# REDIS CONFIGURATION
# ==============================================
REDIS_PORT=6379
REDIS_PASSWORD=

# ==============================================
# JWT CONFIGURATION
# ==============================================
JWT_SECRET=super-secret-jwt-key-for-ev91-platform-change-in-production-2025
JWT_EXPIRES_IN=24h

# ==============================================
# SERVICE PORTS
# ==============================================
API_GATEWAY_PORT=8000
AUTH_SERVICE_PORT=3001
TEAM_SERVICE_PORT=3002
CLIENT_STORE_SERVICE_PORT=3003
VEHICLE_SERVICE_PORT=4004
RIDER_SERVICE_PORT=3004
SPARE_PARTS_PORT=4006

# ==============================================
# SPARE PARTS SERVICE CONFIGURATION
# ==============================================
SPARE_PARTS_NODE_ENV=development
SPARE_PARTS_LOG_LEVEL=info
SPARE_PARTS_API_VERSION=v1

# File Upload Configuration
SPARE_PARTS_UPLOAD_DIR=/app/uploads/spare-parts
SPARE_PARTS_MAX_FILE_SIZE=10485760
SPARE_PARTS_ALLOWED_FILE_TYPES=image/jpeg,image/png,image/webp,application/pdf

# Business Logic Configuration
SPARE_PARTS_LOW_STOCK_THRESHOLD=10
SPARE_PARTS_CRITICAL_STOCK_THRESHOLD=5
SPARE_PARTS_AUTO_REORDER_ENABLED=false
SPARE_PARTS_DEFAULT_MARKUP_PERCENTAGE=20

# Rate Limiting
SPARE_PARTS_RATE_LIMIT_WINDOW_MS=900000
SPARE_PARTS_RATE_LIMIT_MAX_REQUESTS=100

# Email Configuration (for notifications)
SPARE_PARTS_SMTP_HOST=smtp.gmail.com
SPARE_PARTS_SMTP_PORT=587
SPARE_PARTS_SMTP_USER=
SPARE_PARTS_SMTP_PASS=
SPARE_PARTS_FROM_EMAIL=noreply@ev91platform.com

# ==============================================
# CORS CONFIGURATION
# ==============================================
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173,http://localhost:8000,http://localhost:8080

# ==============================================
# DEVELOPMENT CONFIGURATION
# ==============================================
NODE_ENV=development
LOG_LEVEL=info

# Hot Reload Configuration
CHOKIDAR_USEPOLLING=true
WATCHPACK_POLLING=true

# ==============================================
# DOCKER CONFIGURATION
# ==============================================
COMPOSE_PROJECT_NAME=ev91-platform
COMPOSE_HTTP_TIMEOUT=120

# Network Configuration
DOCKER_NETWORK_SUBNET=172.20.0.0/16

# ==============================================
# MONITORING & HEALTH CHECKS
# ==============================================
HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_TIMEOUT=10s
HEALTH_CHECK_RETRIES=3
HEALTH_CHECK_START_PERIOD=40s

# ==============================================
# PRODUCTION OVERRIDES (uncomment for production)
# ==============================================
# NODE_ENV=production
# LOG_LEVEL=warn
# POSTGRES_PASSWORD=your-super-secure-production-password
# JWT_SECRET=your-production-jwt-secret-at-least-256-bits
# REDIS_PASSWORD=your-redis-password

# SSL Configuration (for production)
# SSL_CERT_PATH=/etc/ssl/certs/ev91platform.crt
# SSL_KEY_PATH=/etc/ssl/private/ev91platform.key

# External Service URLs (for production)
# EXTERNAL_API_GATEWAY_URL=https://api.ev91platform.com
# EXTERNAL_DOMAIN=ev91platform.com
